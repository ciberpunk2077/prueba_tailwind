<!-- Modal para imagen -->
<style>
#imageModal {
    z-index: 9999 !important;
}
#imageModal .bg-white {
    z-index: 10000 !important;
}
/* Asegurar que est√© por encima de Leaflet */
.leaflet-container {
    z-index: 1 !important;
}
.leaflet-popup {
    z-index: 1000 !important;
}
</style>
<div id="imageModal" class="fixed inset-0 bg-black bg-opacity-75 hidden z-[9999] flex items-center justify-center p-4" style="z-index: 9999 !important;">
    <div class="bg-white rounded-2xl w-full max-w-5xl h-full max-h-[85vh] overflow-hidden shadow-2xl flex flex-col">
        <!-- Header -->
        <div class="flex justify-between items-center p-4 border-b border-gray-200 flex-shrink-0">
            <h3 class="text-lg font-semibold text-gray-800" id="modalTitle">Imagen de la muestra</h3>
            <button onclick="closeImageModal()" class="text-gray-500 hover:text-gray-700 transition-colors">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        
        <!-- Contenido con scroll -->
        <div class="flex-1 overflow-auto">
            <div class="p-4">
                <img id="modalImage" src="" alt="Imagen de muestra" class="w-full h-auto object-contain rounded-lg shadow-lg">
            </div>
        </div>
        
        <!-- Footer con controles -->
        <div class="flex justify-center items-center p-4 border-t border-gray-200 flex-shrink-0 bg-gray-50">
            <div class="flex items-center space-x-4">
                <button onclick="zoomIn()" class="p-2 rounded-lg bg-white border border-gray-300 hover:bg-gray-50 transition-colors" title="Zoom In">
                    <i class="fas fa-search-plus text-gray-600"></i>
                </button>
                <button onclick="zoomOut()" class="p-2 rounded-lg bg-white border border-gray-300 hover:bg-gray-50 transition-colors" title="Zoom Out">
                    <i class="fas fa-search-minus text-gray-600"></i>
                </button>
                <button onclick="resetZoom()" class="p-2 rounded-lg bg-white border border-gray-300 hover:bg-gray-50 transition-colors" title="Reset Zoom">
                    <i class="fas fa-expand-arrows-alt text-gray-600"></i>
                </button>
                <span class="text-sm text-gray-500" id="zoomInfo">100%</span>
            </div>
        </div>
    </div>
</div> 